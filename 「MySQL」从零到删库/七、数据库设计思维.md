@[TOC](目录)
# 7.1 数据库设计的基本概要
表结构就是定义数据表文件名，确定数据表包含哪些字段，各字段的字段名、字段类型、及宽度，并将这些数据输入到计算机当中

 - 关系型数据库：两张表的共有字段去确定数据的完整性
 - 行(实体)：一条数据记录
 - 列(属性)：一个字段
 -  数据冗余：有的数据没有必要设计，但还是设计了，指一模一样的数据存储多于一份的情况
 - 优点是提高查询性能，缺点是数据太多重复，成本高
 - 冗余只能通过分表减少，不可能杜绝

```sql
describe（desc）表名
```

`desc` 是describe的缩写，用于查看特定表的详细设计信息

```sql
show columns from 表名 
```

查询出表的列信息

```sql
show create table 表名
```

查询建表语句

```sql
mysql> desc eatery;
+-------+---------------+------+-----+---------+-------+
| Field | Type          | Null | Key | Default | Extra |
+-------+---------------+------+-----+---------+-------+
| id    | int(20)       | NO   | PRI | NULL    |       |
| money | decimal(10,4) | YES  |     | NULL    |       |
| stuId | int(4)        | YES  | MUL | NULL    |       |
+-------+---------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

mysql> show columns from eatery;
+-------+---------------+------+-----+---------+-------+
| Field | Type          | Null | Key | Default | Extra |
+-------+---------------+------+-----+---------+-------+
| id    | int(20)       | NO   | PRI | NULL    |       |
| money | decimal(10,4) | YES  |     | NULL    |       |
| stuId | int(4)        | YES  | MUL | NULL    |       |
+-------+---------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

mysql> show create table eatery;
+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table  | Create Table



                                       |
+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| eatery | CREATE TABLE `eatery` (
  `id` int(20) NOT NULL,
  `money` decimal(10,4) DEFAULT NULL,
  `stuId` int(4) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `stuId` (`stuId`),
  CONSTRAINT `eatery_ibfk_1` FOREIGN KEY (`stuId`) REFERENCES `stu` (`stuId`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=gbk |
+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)
```




# 7.2 实体和实体之间的关系

数据对象彼此之间相互连接的方式称为 联系(Relationship)，也称为关系，联系可分为以下 3 种类型

 - 一对一联系 (1 ∶ 1) 例如，部门与经理的联系是一对一的
 - 一对多联系 (1 ∶ N) 例如，某校教师与教的课程之间存在一对多的
 - 多对多联系 (M ∶ N) 例如，学生与课程间的联系是多对多的

# 7.3 Codd第一范式：确保每列原子
关系数据库中的关系必须满足一定的要求，即满足不同的范式

> 引用百度的图![这里是引用](https://img-blog.csdnimg.cn/c343ff9d85fa437d9af636fabbe4c339.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWWVhdHNfTGlhbw==,size_20,color_FFFFFF,t_70,g_se,x_16)

 第一范式：
 - 确保每一个字段的数据不能再分了：确保每个字段的原子性
 - 例如一条时间数据：2018-2019
 - 这里应该将其拆开成两个数据，开始时间2018，结束时间2019

# 7.4 Codd第二范式：非键字段必须依赖与键字段 

 第二范式：
 - 一个表只描述一件事情，不能扯淡
 - 比如学生表就放学生的信息，不放工资数据，没关系的信息就别放在一张表

# 7.5 Codd第三范式：消除传递依赖

 第三范式：
 - 例如成绩表，一般情况下不把总分列出来，只需要将成绩表中语数外相加就可以
 - 而高考成绩需要把总分数据列出来，根据具体项目需求确定是否消除传递依赖

